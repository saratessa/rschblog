{
  "hash": "e4a6be7623a98576c7e03851ae5555ca",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Examining the Role of Mathematical Language in Preschoolers’ Social and Behavioral Outcomes: A Hierarchical Linear Modeling Approach\"\nauthor: \"Saratessa Palos\"\ndate: \"2025-02-26\"\ncategories: [hlm, code, analysis]\n---\n\n\n\n## Examining the Role of Mathematical Language in Preschoolers’ Social and Behavioral Outcomes: A Hierarchical Linear Modeling Approach\n\nThe present study used a sample of 558 preschool children (Mage = 57.75 months, SD = 3.71). Monthly family income ranged from \\$0 to \\$5539 (M = \\$1508.18, SD = \\$892.92). Among the sample, 44% of the children were African American, 32% were Caucasian, 12% were Hispanic, 11% were multiracial, and 1% were Asian.\n\n-   RQ1: Does vocabulary and mathematical language predict social skills in preschoolers?\n\nHypothesis 1: Higher vocabulary and math language will be associated with better social skills.\n\n-   RQ2: Does vocabulary and mathematical language predict problem behavior in preschoolers?\n\nHypothesis 2: Lower vocabulary and math language will be associated with higher problem behavior.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(lme4)     \n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: Matrix\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(haven)      \nlibrary(tidyverse)  \n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ tidyr::expand() masks Matrix::expand()\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n✖ tidyr::pack()   masks Matrix::pack()\n✖ tidyr::unpack() masks Matrix::unpack()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(performance)\nlibrary(here)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nhere() starts at /Users/saratessapalos/Desktop/Research/Research Blog/rschblog\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(dplyr)    \nlibrary(tidyr)    \nlibrary(mice)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'mice'\n\nThe following object is masked from 'package:stats':\n\n    filter\n\nThe following objects are masked from 'package:base':\n\n    cbind, rbind\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- read_dta(\"/Users/saratessapalos/Desktop/Research/HLM Paper/project/socialskills_problembx/data/data.dta\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 3,276\n     id lenaid pkschlid pkclasid gender     bday       cohort    group   county \n  <dbl>  <dbl>    <dbl>    <dbl> <dbl+lbl>  <date>     <dbl+lbl> <dbl+l> <dbl+l>\n1     1     NA       11        1 0 [male]   2011-03-03 1 [cohor… 1 [omw] 6 [all…\n2     2     NA       11        1 0 [male]   2011-01-06 1 [cohor… 1 [omw] 6 [all…\n3     3     NA       11        2 0 [male]   2010-10-05 1 [cohor… 1 [omw] 6 [all…\n4     4     NA       12        3 0 [male]   2011-03-15 1 [cohor… 1 [omw] 6 [all…\n5     5     NA       12        3 0 [male]   2011-04-15 1 [cohor… 1 [omw] 6 [all…\n6     6     NA       12        3 1 [female] 2011-07-25 1 [cohor… 1 [omw] 6 [all…\n# ℹ 3,267 more variables: racethn <dbl+lbl>, race <dbl+lbl>,\n#   hispanic <dbl+lbl>, income <dbl>, poverty <dbl+lbl>, pktype <dbl+lbl>,\n#   pkptq <dbl>, pkday <dbl+lbl>, pkclasdt <date>, pkclasex <dbl>,\n#   pkclases <dbl>, pkclasco <dbl>, pkclasis <dbl>, prek <dbl+lbl>,\n#   kclasid <dbl>, kschlid <dbl>, kclasdt <date>, kclasex <dbl>, kclases <dbl>,\n#   kclasco <dbl>, kclasis <dbl>, avdate_1 <date>, ageyrs_1 <dbl>,\n#   agemos_1 <dbl>, pdemex_1 <dbl>, pdemdt_1 <date>, pdem1_1 <dbl+lbl>, …\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Select relevant variables (ONLY vocabulary, math language, social skills, and problem behavior)\ndata_subset <- data %>%\n  select(\n    id,               \n    pkschlid, ppvtst_1, ppvtst_2,   \n    mlasm_1, mlasm_2,     \n    ssisss_1, ssisss_2,   \n    ssispb_1, ssispb_2    \n  )        \n```\n:::\n\n\n\n### **Reshaping the Data: Wide to Long Format**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata_long <- data_subset %>%\n  pivot_longer(\n    cols = c(ppvtst_1, ppvtst_2, mlasm_1, mlasm_2, ssisss_1, ssisss_2, ssispb_1, ssispb_2),\n    names_to = c(\".value\", \"timepoint\"),\n    names_sep = \"_\"\n  )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndata_long$timepoint <- as.numeric(data_long$timepoint)\n```\n:::\n\n\n\n### **Checking for Missing Values**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolSums(is.na(data_long))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       id  pkschlid timepoint    ppvtst     mlasm    ssisss    ssispb \n        0        20         0       145       106       185       185 \n```\n\n\n:::\n:::\n\n\n\n### **Handling Missing Data Using Multiple Imputation**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Perform multiple imputation\nimputed_data <- mice(data_long, m = 5, method = \"pmm\", seed = 123)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n iter imp variable\n  1   1  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  1   2  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  1   3  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  1   4  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  1   5  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  2   1  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  2   2  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  2   3  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  2   4  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  2   5  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  3   1  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  3   2  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  3   3  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  3   4  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  3   5  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  4   1  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  4   2  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  4   3  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  4   4  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  4   5  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  5   1  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  5   2  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  5   3  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  5   4  pkschlid  ppvtst  mlasm  ssisss  ssispb\n  5   5  pkschlid  ppvtst  mlasm  ssisss  ssispb\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Replace missing values with imputed data\ndata_long <- complete(imputed_data, 1)\n\ncolSums(is.na(data_long))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       id  pkschlid timepoint    ppvtst     mlasm    ssisss    ssispb \n        0         0         0         0         0         0         0 \n```\n\n\n:::\n:::\n\n\n\n### **Centering Variables for Analysis**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata_long <- data_long %>%\n  mutate(\n    ppvtst_c = scale(ppvtst, center = TRUE, scale = FALSE), \n    mlasm_c = scale(mlasm, center = TRUE, scale = FALSE),  \n    ssisss_c = scale(ssisss, center = TRUE, scale = FALSE),  \n    ssispb_c = scale(ssispb, center = TRUE, scale = FALSE)  \n  )\n```\n:::\n\n\n\n### **Building the Null Model for Social Skills**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Null model for Social Skills\nnull_model_social <- lmer(ssisss_c ~ (1 | pkschlid), data = data_long)\nsummary(null_model_social)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nLinear mixed model fit by REML ['lmerMod']\nFormula: ssisss_c ~ (1 | pkschlid)\n   Data: data_long\n\nREML criterion at convergence: 12542.4\n\nScaled residuals: \n     Min       1Q   Median       3Q      Max \n-3.00067 -0.64685  0.03271  0.69541  2.54400 \n\nRandom effects:\n Groups   Name        Variance Std.Dev.\n pkschlid (Intercept) 115.9    10.76   \n Residual             440.4    20.99   \nNumber of obs: 1388, groups:  pkschlid, 132\n\nFixed effects:\n            Estimate Std. Error t value\n(Intercept)   -1.363      1.154  -1.181\n```\n\n\n:::\n:::\n\n\n\n### **Building the Null Model for Problem Behavior**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Null model for Problem Behavior\nnull_model_behavior <- lmer(ssispb_c ~ (1 | pkschlid), data = data_long)\nsummary(null_model_behavior)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nLinear mixed model fit by REML ['lmerMod']\nFormula: ssispb_c ~ (1 | pkschlid)\n   Data: data_long\n\nREML criterion at convergence: 10920.5\n\nScaled residuals: \n    Min      1Q  Median      3Q     Max \n-3.0932 -0.7030 -0.1542  0.5849  3.9810 \n\nRandom effects:\n Groups   Name        Variance Std.Dev.\n pkschlid (Intercept)  51.95    7.208  \n Residual             133.28   11.545  \nNumber of obs: 1388, groups:  pkschlid, 132\n\nFixed effects:\n            Estimate Std. Error t value\n(Intercept)   1.1657     0.7322   1.592\n```\n\n\n:::\n:::\n\n\n\n### **Computing the Intraclass Correlation Coefficient (ICC)**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# ICC\nicc(null_model_social)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# Intraclass Correlation Coefficient\n\n    Adjusted ICC: 0.208\n  Unadjusted ICC: 0.208\n```\n\n\n:::\n\n```{.r .cell-code}\nicc(null_model_behavior)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# Intraclass Correlation Coefficient\n\n    Adjusted ICC: 0.280\n  Unadjusted ICC: 0.280\n```\n\n\n:::\n:::\n\n\n\n### **Building the Full Model for Social Skills**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Full Model for Social Skills\nmodel_social <- lmer(ssisss_c ~ ppvtst_c + mlasm_c + (1 | pkschlid), \n                     data = data_long)\nsummary(model_social)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nLinear mixed model fit by REML ['lmerMod']\nFormula: ssisss_c ~ ppvtst_c + mlasm_c + (1 | pkschlid)\n   Data: data_long\n\nREML criterion at convergence: 12449.5\n\nScaled residuals: \n    Min      1Q  Median      3Q     Max \n-2.9413 -0.6869  0.0235  0.6705  2.9161 \n\nRandom effects:\n Groups   Name        Variance Std.Dev.\n pkschlid (Intercept) 125.7    11.21   \n Residual             406.5    20.16   \nNumber of obs: 1388, groups:  pkschlid, 132\n\nFixed effects:\n            Estimate Std. Error t value\n(Intercept) -1.20898    1.17404  -1.030\nppvtst_c     0.09676    0.04718   2.051\nmlasm_c      1.56388    0.23121   6.764\n\nCorrelation of Fixed Effects:\n         (Intr) ppvts_\nppvtst_c  0.021       \nmlasm_c  -0.005 -0.595\n```\n\n\n:::\n:::\n\n\n\n### **Building the Full Model for Problem Behavior**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Full Model for Problem Behavior\nmodel_behavior <- lmer(ssispb_c ~ ppvtst_c + mlasm_c + (1 | pkschlid), \n                       data = data_long)\nsummary(model_behavior)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nLinear mixed model fit by REML ['lmerMod']\nFormula: ssispb_c ~ ppvtst_c + mlasm_c + (1 | pkschlid)\n   Data: data_long\n\nREML criterion at convergence: 10902\n\nScaled residuals: \n    Min      1Q  Median      3Q     Max \n-3.2503 -0.6956 -0.1676  0.5742  4.1407 \n\nRandom effects:\n Groups   Name        Variance Std.Dev.\n pkschlid (Intercept)  52.67    7.258  \n Residual             130.64   11.430  \nNumber of obs: 1388, groups:  pkschlid, 132\n\nFixed effects:\n            Estimate Std. Error t value\n(Intercept)  1.11285    0.73450   1.515\nppvtst_c    -0.03893    0.02686  -1.450\nmlasm_c     -0.41231    0.13160  -3.133\n\nCorrelation of Fixed Effects:\n         (Intr) ppvts_\nppvtst_c  0.020       \nmlasm_c  -0.004 -0.594\n```\n\n\n:::\n:::\n\n\n\n### **Comparing Models Using ANOVA**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nanova(null_model_social, model_social)  \n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nrefitting model(s) with ML (instead of REML)\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nData: data_long\nModels:\nnull_model_social: ssisss_c ~ (1 | pkschlid)\nmodel_social: ssisss_c ~ ppvtst_c + mlasm_c + (1 | pkschlid)\n                  npar   AIC   BIC  logLik deviance  Chisq Df Pr(>Chisq)    \nnull_model_social    3 12551 12566 -6272.3    12545                         \nmodel_social         5 12456 12482 -6222.9    12446 98.717  2  < 2.2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n\n\n:::\n\n```{.r .cell-code}\nanova(null_model_behavior, model_behavior)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nrefitting model(s) with ML (instead of REML)\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nData: data_long\nModels:\nnull_model_behavior: ssispb_c ~ (1 | pkschlid)\nmodel_behavior: ssispb_c ~ ppvtst_c + mlasm_c + (1 | pkschlid)\n                    npar   AIC   BIC  logLik deviance  Chisq Df Pr(>Chisq)    \nnull_model_behavior    3 10928 10943 -5460.9    10922                         \nmodel_behavior         5 10905 10931 -5447.6    10895 26.492  2  1.767e-06 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n\n\n:::\n:::\n\n\n\n### **Checking Residual Normality (Assumption Check)**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Check Residual Normality\nqqnorm(resid(model_social))\nqqline(resid(model_social))\n```\n\n::: {.cell-output-display}\n![](mypost_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n\n```{.r .cell-code}\nqqnorm(resid(model_behavior))\nqqline(resid(model_behavior))\n```\n\n::: {.cell-output-display}\n![](mypost_files/figure-html/unnamed-chunk-17-2.png){width=672}\n:::\n:::\n\n\n\n### **Checking Homoscedasticity (Variance Consistency)**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Check Homoscedasticity\nplot(fitted(model_social), resid(model_social))\n```\n\n::: {.cell-output-display}\n![](mypost_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n\n```{.r .cell-code}\nplot(fitted(model_behavior), resid(model_behavior))\n```\n\n::: {.cell-output-display}\n![](mypost_files/figure-html/unnamed-chunk-18-2.png){width=672}\n:::\n:::\n",
    "supporting": [
      "mypost_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}